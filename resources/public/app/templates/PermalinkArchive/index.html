<md-card class="md-whitespace-4dp">
    <md-toolbar class="md-table-toolbar md-default">
        <div class="md-toolbar-tools">
            <h2 class="md-title">{{ VM.Items.length }} Items</h2>

        </div>

    </md-toolbar>
    <form name="itemForm" ng-submit="itemForm.$valid && VM.add()" novalidate>
    <md-list flex>
        <md-list-item ng-repeat="item in VM.Items">
            <div class="md-list-item-text" layout="column" ng-if="VM.editNow != item.id">
                <p>
                    {{ item.old_link }} <md-icon class="material_icons">arrow_forward</md-icon> {{ item.new_link }}
                    <div class="md-secondary" ng-if="VM.editNow != item.id">
                    <md-button class="md-icon-button " aria-label="Edit" ng-click="VM.edit(item.id)">
                        <md-icon class="material-icons">edit</md-icon>
                    </md-button>
                    <md-button class="md-icon-button " aria-label="Delete" ng-click="VM.delete(item, $index)">
                        <md-icon class="material-icons">delete</md-icon>
                    </md-button>
            </div>
                </p>
            </div>

                <p layout="row" ng-if="VM.editNow==item.id">
                    <md-input-container class="md-block" flex-gt-xs="50">
                        <label>Old link</label>
                        <input ng-model="item.old_link" />
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-xs="50">
                        <label>New link</label>
                        <input ng-model="item.new_link" />
                    </md-input-container>
                    <md-button class="md-icon-button " aria-label="Save" ng-click="VM.save(item, $index)">
                        <md-icon class="material-icons">save</md-icon>
                    </md-button>
                </p>

            <md-divider ng-if="!$last"></md-divider>
        </md-list-item>
        <md-subheader class="md-no-sticky"><h2>Add new</h2></md-subheader>
        <md-list-item >

            <p layout="row">
                <md-input-container class="md-block" flex-gt-xs="50">
                    <label>Old link</label>
                    <input ng-model="VM.newItem.old_link" name="old_link" required />

                </md-input-container>
                <md-input-container class="md-block" flex-gt-xs="50" >
                    <label>New link</label>
                    <input ng-model="VM.newItem.new_link" name="new_link" required />

                </md-input-container>
            <md-button class="md-icon-button md-secondary" aria-label="Save" type="submit">
                <md-icon class="material-icons">save</md-icon>
            </md-button>
            </p>


        </md-list-item>
    </md-list>
        </form>
</md-card>